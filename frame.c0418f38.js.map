{"version":3,"sources":["../src/index.js","frame.js"],"names":["breakpoints","bph","config","_getBpsFromMeta","_getBpsFromCustomProps","Object","keys","length","Error","getBreakpoints","getMediaQuery","isMatching","listen","listenAll","el","document","createElement","classList","add","getElementsByTagName","appendChild","fontFamily","window","getComputedStyle","getPropertyValue","replace","split","reduce","obj","elem","name","value","sheets","styleSheets","filter","sheet","href","indexOf","location","origin","rules","acc","cssRules","forEach","rule","selectorText","css","cssText","dec","prop","val","trim","_matchAll","useMax","matches","bp","push","reverse","Array","isArray","min","max","number","parseFloat","unit","substract","matchMedia","options","callback","mq","immediate","opts","on","addListener","off","removeListener","listeners","bps","listenTo","sort","a","b","parseInt","cb","listener","colors","xs","sm","md","lg","xl","xxl","instance","root","getElementById","mobileMessage","isMobile","test","navigator","userAgent","updateColor","color","body","style","backgroundColor","parent","postMessage","innerHTML"],"mappings":"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","file":"frame.c0418f38.js","sourceRoot":"../docs","sourcesContent":["let breakpoints = {};\n\n/**\n * @param {Object|String} config - Object containing the breakpoints, `'meta'` or `'custom'`.\n *\n * @returns {Object<function>} Object containing the instance's methods.\n */\n\nfunction bph(config = {}) {\n  if (typeof config === 'string' && config === 'meta') {\n    breakpoints = _getBpsFromMeta();\n  } else if (typeof config === 'string' && config === 'custom') {\n    breakpoints = _getBpsFromCustomProps();\n  } else {\n    breakpoints = config;\n  }\n\n  if (Object.keys(breakpoints).length === 0) {\n    throw new Error(`No breakpoints defined`);\n  }\n\n  return {\n    getBreakpoints,\n    getMediaQuery,\n    isMatching,\n    listen,\n    listenAll,\n  };\n}\n\n/**\n * Generate a `meta` element with class `breakpoint-helper` and deserialize the css `font-family` value to retrieve the breakpoints.\n *\n * @private\n * @returns {Object} Breakpoint object.\n */\n\nfunction _getBpsFromMeta() {\n  const el = document.createElement('meta');\n  el.classList.add('breakpoint-helper');\n  document.getElementsByTagName('head')[0].appendChild(el);\n\n  let fontFamily = window.getComputedStyle(el).getPropertyValue('font-family');\n\n  if (fontFamily.length <= 0) return {};\n\n  fontFamily = fontFamily.replace(/'|\"/g, '').split('&');\n\n  return fontFamily.reduce((obj, elem) => {\n    const [name, value] = elem.split('=');\n    obj[name] = value;\n    return obj;\n  }, {});\n}\n\n/**\n * Retrieve breakpoints by reading css custom properties on the `:root` selector, of all loaded stylesheets, starting with `--bph-`.\n *\n * @private\n * @returns {Object} Breakpoint object.\n */\n\nfunction _getBpsFromCustomProps() {\n  const sheets = [...document.styleSheets].filter(\n    (sheet) => sheet.href.indexOf(window.location.origin) !== -1\n  );\n\n  const rules = [...sheets].reduce((acc, sheet) => {\n    [...sheet.cssRules].forEach((rule) => {\n      if (rule.selectorText === ':root') {\n        const css = rule.cssText.split('{')[1].replace('}', '').split(';');\n\n        css.forEach((dec) => {\n          const [prop, val] = dec.split(':');\n\n          if (prop.indexOf('--bph-') !== -1) {\n            acc[prop.replace('--bph-', '').trim()] = val.trim();\n          }\n        });\n      }\n    });\n    return acc;\n  }, {});\n\n  return rules;\n}\n\n/**\n * Check if the breakpoints in `keys` are matching\n *\n * @private\n * @param {Array} keys - Array of breakpoint names.\n * @param {boolean} [useMax=false] - Use `max-width` instead of `min-width`.\n *\n * @returns {Array<string>} Array containing matching breakpoint names in reverse order.\n */\n\nfunction _matchAll(keys, useMax = false) {\n  const matches = [];\n  keys.forEach((bp) => {\n    if (isMatching(bp, useMax)) {\n      matches.push(bp);\n    }\n  });\n  return useMax ? matches : matches.reverse();\n}\n\n/**\n * Get all breakpoints as an object. Useful for debugging or passing breakpoint values to other libraries.\n *\n * @returns {Object} Object containing all instance breakpoints.\n */\n\nfunction getBreakpoints() {\n  return breakpoints;\n}\n\n/**\n * Get a `min-width`, `max-width` or `min-width and max-width` media query by breakpoint name.\n *\n * @param {string|Array} name - Breakpoint name or array of two breakpoint names.\n * @param {boolean} [useMax=false] - Use `max-width` instead of `min-width`.\n *\n * @returns {string} Media query string.\n */\n\nfunction getMediaQuery(name, useMax = false) {\n  if (Array.isArray(name)) {\n    const [min, max] = name;\n    return `${getMediaQuery(min)} and ${getMediaQuery(max, true)}`;\n  }\n\n  const min = breakpoints[name];\n\n  if (typeof min === 'undefined') {\n    throw new Error(`\"${name}\" does not seem to be a breakpoint name`);\n  }\n\n  if (useMax) {\n    const number = parseFloat(min, 10);\n    const unit = min.replace(number, '');\n    const substract = unit === 'em' ? 0.0635 : 1;\n    return `(max-width: ${number - substract}${unit})`;\n  }\n\n  return `(min-width: ${min})`;\n}\n\n/**\n * Check if a breakpoint or breakpoint range is currently matching.\n *\n * @param {string} name - Breakpoint name or array of two breakpoint names.\n * @param {boolean} [useMax=false] - Use `max-width` instead of `min-width`.\n *\n * @returns {boolean} Whether the breakpoint or breakpoint range is matching or not.\n */\n\nfunction isMatching(name, useMax = false) {\n  return window.matchMedia(getMediaQuery(name, useMax)).matches;\n}\n\n/**\n * Listen to a breakpoint or breakpoint range change and execute a callback function. The callback function will receive a `MediaQueryList` object as parameter that can be used to check wether the breakpoint media query is matching or not. The callback function is called once on listener creation, it is possible to opt out of this behavior via options.\n *\n * @param {Object|String} options - Configuration Object, breakpoint name or array of two breakpoint names.\n * @param {string} options.name - Breakpoint name or array of two breakpoint names.\n * @param {boolean} [options.useMax=false] - Use `max-width` instead of `min-width`.\n * @param {boolean} [options.immediate=true] - Execute callback function on listener creation.\n * @param {function} callback - Callback function, receives a `MediaQueryList` as parameter.\n *\n * @returns {Object} Object containing the `on` and `off` listener methods.\n */\n\nfunction listen(options, callback) {\n  let mq = null;\n\n  const { name, useMax, immediate } = options;\n  const opts = {\n    name,\n    useMax: useMax || false,\n    immediate: typeof immediate === 'undefined' ? true : immediate,\n  };\n\n  function on() {\n    if (typeof options === 'string' || Array.isArray(options)) {\n      mq = window.matchMedia(getMediaQuery(options));\n    } else {\n      mq = window.matchMedia(getMediaQuery(opts.name, opts.useMax));\n    }\n\n    if (opts.immediate) callback(mq);\n    mq.addListener(callback);\n  }\n\n  on();\n\n  function off() {\n    if (mq) {\n      mq.removeListener(callback);\n      mq = null;\n    }\n  }\n\n  return { on, off };\n}\n\n/**\n * Listen to all breakpoints matching or un-matching and execute a callback function. The callback function will receive an array of the matching breakpoint names in reverse order as a parameter. That means the largest breakpoint name (or smallest when using `options.useMax`) comes first in the array. The array will be empty if no breakpoints are matching.\n *\n * @param {function} callback - Callback function, receives an array of breakpoint names as parameter.\n * @param {Object} [options] - Configuration Object.\n * @param {Array} [options.listenTo] - Array of breakpoint names. All are used by default.\n * @param {boolean} [options.useMax=false] - Use `max-width` instead of `min-width`.\n * @param {boolean} [options.immediate=true] - Execute callback function on listener creation.\n *\n * @returns {Object} Object containing the `on` and `off` listener methods.\n */\n\nfunction listenAll(callback, options = {}) {\n  const keys = Object.keys(breakpoints);\n  let listeners = [];\n  let bps = keys;\n\n  if (keys.length === 0) return;\n\n  const { useMax, immediate, listenTo } = options;\n  const opts = {\n    useMax: useMax || false,\n    immediate: typeof immediate === 'undefined' ? true : immediate,\n  };\n\n  if (listenTo) {\n    bps = listenTo.sort((a, b) => {\n      return parseInt(breakpoints[a], 10) - parseInt(breakpoints[b], 10);\n    });\n  }\n\n  function on() {\n    bps.forEach((bp) => {\n      const cb = () => {\n        callback(_matchAll(bps, opts.useMax));\n      };\n\n      const listener = listen({ name: bp, ...opts }, cb);\n      listeners.push(listener);\n    });\n  }\n\n  on();\n\n  function off() {\n    if (listeners.length) {\n      listeners.forEach((listener) => listener.off());\n      listeners = [];\n    }\n  }\n\n  return { on, off };\n}\n\nexport default bph;\n","import bph from '../src/index';\n\nconst colors = {\n  xs: 'salmon',\n  sm: 'darkviolet',\n  md: 'gold',\n  lg: 'deeppink',\n  xl: 'mediumseagreen',\n  xxl: 'royalblue',\n};\n\nconst instance = bph({\n  xs: '416px',\n  sm: '600px',\n  md: '768px',\n  lg: '1024px',\n  xl: '1280px',\n  xxl: '1520px',\n});\n\nconst { listenAll, getMediaQuery } = instance;\n\nconst root = document.getElementById('root');\n\nconst mobileMessage = `\n  <div class=\"bp-note\">\n    It looks like you are uing a mobile device, turn your phone to see a different breakpoint.\n  </div>\n`;\nconst isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n  navigator.userAgent\n);\n\nfunction updateColor(color) {\n  document.body.style.backgroundColor = color;\n  parent.postMessage(color, window.location.origin);\n}\n\nlistenAll((bps) => {\n  const color = bps.length ? colors[bps[0]] : 'turquoise';\n  updateColor(color);\n\n  if (bps.length) {\n    const bp = bps[0];\n    root.innerHTML = `\n      <div class=\"bp-name\">${bp}</div>\n      <div class=\"bp-mq\">${getMediaQuery(bp)}</div>\n    `;\n  } else {\n    if (!isMobile) {\n      ``;\n    }\n    root.innerHTML = `\n    ${isMobile ? mobileMessage : ''}\n    <div class=\"bp-mq\">No breakpoint active</div>\n    `;\n  }\n});\n"]}